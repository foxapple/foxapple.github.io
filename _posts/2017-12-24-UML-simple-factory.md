---
layout: post
title: 设计模式——简单工厂模式以及 UML 图介绍
---
# 设计模式——简单工厂模式以及 UML 图介绍
----



### 设计模式和简单工厂模式

这些天我在看一本书，名叫『大话设计模式』。这本书里浅显易懂的讲设计模式，这周上班的时候看了里面一节的内容。现在整理一下。

所谓面对对象编程，需要将各种面对过程的函数变成一个个类来进行处理。简单的操作都好想，但是一旦到了复杂的情况下，往往就乱了，这也就是开发需要学习设计模式的重要性了——首先要知道用什么模式，然后这个模式大概要怎么分对象，然后按照过往经验来搭建结构。

现在来说说简单工厂模式的应用场景，现在有一个 App，已经写好了各个 Activity，但是调用每个 Activity 所需要的 Intent 都不同，第一行代码里也说了，你写的 Activity，就应该写好相应的启动 Activity 函数。在简单工厂模式中，你需要新建一个类来管理 Activity 实例的产生：就像一个工厂一样在生产产品。

这就是简单的工厂模式，难道说还会有复杂工厂模式？

### UML 图介绍

进入公司里后，读公司业务代码是非常重要的一环，经常你独自开发的很少，但是要进行修改的 bug 很多，这也就使得我们通常扮演运维工程师的角色，不是开发工程师。

仅仅是一个简单的 Clock 应用，就会有十多个包，每个包都会有十多个文件，快速定位到关键代码。熟悉整个代码就显得很关键了。

先说类图，类图例如下图所示：

![](https://foxapple.github.io/images/2017-12-24/%E7%B1%BB%E5%9B%BE.png)

接口的话和类相似，只是没有了成员那一行。最关键的是类与类，类与接口之间的关系。

1. 继承关系
继承关系是父类和子类之间的关系，非常常见，在代码中，关键词是 extends，这里我用这个比喻来说明继承关系，嗯，其实有点不恰当，也有很多程序员是自己的老板的。继承关系用的空白三角加实线。

![](https://foxapple.github.io/images/2017-12-24/extends.png)
2. 关联关系
关联关系是指在一个类中存在另一个类的引用，就像是程序员应该知道编程知识，说明程序员脑海中存在编程知识的成员，需要的时候可以调用知识类。在代码中的体现呢，就是一个类中存在另一个类的成员引用。

![](https://foxapple.github.io/images/2017-12-24/relation.png)
3. 组合关系
组合关系就像下图一样，每个程序员都有两只手。在代码中，每当 new 程序员实例的同时，也应该 new 两个手的实例出来，图例用黑色菱形和箭头表示，在连接线的下面还标有数字，表示配比。

![](https://foxapple.github.io/images/2017-12-24/Composition.png)
4. 聚合关系
聚合关系就像是大雁和大雁群的关系，大雁群是大雁的聚合体，其中有很多独特的性质。图例中用空白的菱形和箭头表示聚合关系。在代码中的体现是，『github 社区』类里会有一个『程序员』类数组或者列表。

![](https://foxapple.github.io/images/2017-12-24/Aggregation.png)
5. 依赖关系
依赖关系表示一个类在正常工作中需要的东西，正好像程序员工作的时候都需要一台合手的电脑。还有很多这样的关系，比如在 android 中，很多类都需要 Context 才能工作，所以它们和 Context 都是依赖关系。在图中，依赖关系可以用虚线加箭头来表示。

![](https://foxapple.github.io/images/2017-12-24/Dependency.png)
6. 接口的实现
接口的实现都用下面这个图例：

![](https://foxapple.github.io/images/2017-12-24/implement.png)

还有一种接口的表达方式是在类的旁边画一个小气泡，然后在类里面写出接口的方法。

上面是对 UML 类图的一个简单介绍。

以上。


